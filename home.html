{% extends "base.html" %}
{% block title %}Home{% endblock %}

{% block content %}
<div class="container-fluid px-0">
    <!-- Hero Section -->
    <div class="jumbotron jumbotron-fluid bg-cover text-white mb-0" style="background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://cdn.usegalileo.ai/sdxl10/0e75e056-1638-49da-aaf7-f0b621ead65a.png'); min-height: 480px; background-position: center;">
        <div class="container py-5">
            <div class="row">
                <div class="col-lg-8">
                    <h1 class="display-4 font-weight-bold">Discover the world of food</h1>
                    <p class="lead">Hello, {{ user.first_name }}! Find recipes, chefs and more</p>
                    
                    <!-- Search Form -->
                    <form class="mt-4" action="{{ url_for('views.search') }}" method="GET">
                        <div class="input-group input-group-lg">
                            <div class="input-group-prepend">
                                <span class="input-group-text bg-white border-right-0">
                                    <i class="fas fa-search text-secondary"></i>
                                </span>
                            </div>
                            <input type="text" name="query" class="form-control border-left-0 border-right-0" 
                                   placeholder="Search for recipes" required>
                            <div class="input-group-append">
                                <button class="btn btn-danger" type="submit">Search</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation Tabs -->
    <div class="container">
        <ul class="nav nav-tabs border-bottom-0 justify-content-between mt-4" id="foodTabs" role="tablist">
            <li class="nav-item flex-grow-1 text-center">
                <a class="nav-link active border-bottom-3 border-danger" id="trending-tab" data-toggle="tab" href="#trending" role="tab">Trending Recipes</a>
            </li>
            <li class="nav-item flex-grow-1 text-center">
                <a class="nav-link text-secondary" id="chefs-tab" data-toggle="tab" href="#chefs" role="tab">Featured Chefs</a>
            </li>
            <li class="nav-item flex-grow-1 text-center">
                <a class="nav-link text-secondary" id="season-tab" data-toggle="tab" href="#season" role="tab">In Season</a>
            </li>
        </ul>
    </div>

    <!-- Tab Content -->
    <div class="container">
        <div class="tab-content py-4" id="foodTabsContent">
            <!-- Trending Recipes Tab -->
            <div class="tab-pane fade show active" id="trending" role="tabpanel">
                <div class="d-flex flex-nowrap overflow-auto pb-3">
                    <!-- Braised Short Ribs -->
                    <div class="card mx-2 flex-shrink-0" style="width: 18rem;">
                      <img src="https://cdn.usegalileo.ai/sdxl10/ce541c37-fb8c-48a1-b5c9-29baad737a0d.png" 
                          class="card-img-top" alt="Braised Short Ribs" 
                          style="height: 180px; object-fit: cover;">
                      <div class="card-body d-flex flex-column">
                          <h5 class="card-title">Braised Short Ribs</h5>
                          <p class="card-text text-muted">by Chef Maria</p>
                          <a href="{{ url_for('views.recipe_by_slug', recipe_slug='braised-short-ribs') }}" class="btn btn-outline-danger mt-auto">View Recipe</a>
                      </div>
                    </div>

                    <!-- Chicken Parmesan -->
                    <div class="card mx-2 flex-shrink-0" style="width: 18rem;">
                        <img src="https://cdn.usegalileo.ai/sdxl10/b3a15d90-f015-4b07-8a66-2209a230cbb9.png" 
                             class="card-img-top" alt="Chicken Parmesan" 
                             style="height: 180px; object-fit: cover;">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Chicken Parmesan</h5>
                            <p class="card-text text-muted">by Chef Tom</p>
                            <a href="{{ url_for('views.recipe_by_slug', recipe_slug='chicken-parmesan') }}" class="btn btn-outline-danger mt-auto">View Recipe</a>
                        </div>
                    </div>
                    
                    <!-- Coconut Curry Shrimp -->
                    <div class="card mx-2 flex-shrink-0" style="width: 18rem;">
                        <img src="https://cdn.usegalileo.ai/sdxl10/20d314fc-8a22-40cb-a249-f0cda65b4157.png" 
                             class="card-img-top" alt="Coconut Curry Shrimp" 
                             style="height: 180px; object-fit: cover;">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Coconut Curry Shrimp</h5>
                            <p class="card-text text-muted">by Chef Mei</p>
                            <a href="{{ url_for('views.recipe_by_slug', recipe_slug='coconut-curry-shrimp') }}" class="btn btn-outline-danger mt-auto">View Recipe</a>
                        </div>
                    </div>
                    
                    <!-- Beef and Broccoli Stir Fry -->
                    <div class="card mx-2 flex-shrink-0" style="width: 18rem;">
                        <img src="https://cdn.usegalileo.ai/sdxl10/883db8e2-d7c2-468a-8645-d9fa8df1ce7f.png" 
                             class="card-img-top" alt="Beef and Broccoli Stir Fry" 
                             style="height: 180px; object-fit: cover;">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Beef and Broccoli Stir Fry</h5>
                            <p class="card-text text-muted">by Chef Ben</p>
                            <a href="{{ url_for('views.recipe_by_slug', recipe_slug='beef-and-broccoli') }}" class="btn btn-outline-danger mt-auto">View Recipe</a>
                        </div>
                    </div>
                    
                    <!-- Miso Glazed Cod -->
                    <div class="card mx-2 flex-shrink-0" style="width: 18rem;">
                        <img src="https://cdn.usegalileo.ai/sdxl10/2aecf54f-0446-4e19-b196-cc6ba6d70d77.png" 
                             class="card-img-top" alt="Miso Glazed Cod" 
                             style="height: 180px; object-fit: cover;">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Miso Glazed Cod</h5>
                            <p class="card-text text-muted">by Chef Yuki</p>
                            <a href="{{ url_for('views.recipe_by_slug', recipe_slug='miso-glazed-cod') }}" class="btn btn-outline-danger mt-auto">View Recipe</a>
                        </div>
                    </div>
                    
                    <!-- Pork Chops with Apples -->
                    <div class="card mx-2 flex-shrink-0" style="width: 18rem;">
                        <img src="https://cdn.usegalileo.ai/sdxl10/31d9ef43-299b-4b7c-80e1-09f47e6b3a47.png" 
                             class="card-img-top" alt="Pork Chops with Apples" 
                             style="height: 180px; object-fit: cover;">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Pork Chops with Apples</h5>
                            <p class="card-text text-muted">by Chef Sam</p>
                            <a href="{{ url_for('views.recipe_by_slug', recipe_slug='pork-chop-with-apples') }}" class="btn btn-outline-danger mt-auto">View Recipe</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Featured Chefs Tab -->
            <div class="tab-pane fade" id="chefs" role="tabpanel">
              <div class="text-center py-5">
                  <h4>No chefs available at the moment</h4>
                  <p class="text-muted">Check back later for featured chefs</p>
              </div>
            </div>

            <!-- In Season Tab -->
            <div class="tab-pane fade" id="season" role="tabpanel">
                {% if seasonal_recipes %}
                <div class="d-flex flex-nowrap overflow-auto pb-3">
                    {% for recipe in seasonal_recipes %}
                    <div class="card mx-2 flex-shrink-0" style="width: 18rem;">
                        <img src="{{ recipe.image_url or 'https://via.placeholder.com/300x200?text=No+Image' }}" 
                            class="card-img-top" alt="{{ recipe.title }}" 
                            style="height: 180px; object-fit: cover;">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">{{ recipe.title }}</h5>
                            <p class="card-text text-muted">by {{ recipe.author.first_name }}</p>
                            <div class="d-flex justify-content-between small text-muted mb-2">
                                <span><i class="fas fa-clock"></i> {{ recipe.total_time }} mins</span>
                                <span><i class="fas fa-utensils"></i> {{ recipe.servings }} servings</span>
                            </div>
                            <a href="{{ url_for('views.recipe_by_slug', recipe_slug=recipe.title|slugify) }}" 
                            class="btn btn-outline-danger mt-auto">View Recipe</a>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <div class="text-center py-5">
                    <h4>No seasonal recipes available at the moment</h4>
                    <p class="text-muted">Check back for fresh seasonal recipes</p>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}